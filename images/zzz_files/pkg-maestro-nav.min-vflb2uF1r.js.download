define("modules/clean/appshell/account",["require","exports","modules/core/uri"],(function(e,t,a){"use strict";function r(e,t,a,r){if(r===a)return null;var s=o(e);if(parseInt(r.toString(),10)!==r)throw new Error("switchAccount takes an integer subjectUidToSwitchTo. got: "+r);var i=s.getPath();return"/history"===i.substr(0,8)||"/event_details"===i.substr(0,14)?(s.setPath("/"+t),s.toString()):("/team"===i.substr(0,5)?s.setPath("/personal"):"/photos"===i.substr(0,7)?s.setPath("/work"):"/work"===i?s.setPath("/personal"):"/personal"===i&&s.setPath("/work"),n(i)?(s.setPath("/"+t),s.toString()):(s.setQuery({role:t}),s.toString()))}function n(e){return"/scl"===e.substr(0,4)||"/sh"===e.substr(0,3)||"/s"===e.substr(0,2)}function o(e){for(var t=a.URI.parse(e),r=t.getPath(),n=0,o=["/work","/personal","/home","/history","/s","/sh","/scl","/team/admin/members","/team/admin/team_folders","/team/admin/content","/team/admin/billing","/team/admin/classification","/team/admin/settings","/team/admin/data_retention","/team/admin/legal_holds","/team/admin/security/alerts","/team/admin/security/alert_policies","/enterprise_console/settings","/enterprise_console/teams"];n<o.length;n++){var s=o[n];if(r===s||0===r.indexOf(s+"/")){r=s;break}}return 0===r.indexOf("/share/")&&(r="/share"),"/search/personal"===r?r="/personal":"/search/work"===r?r="/work":"/business/billing"===r&&(r="/team/admin/billing"),t.setPath(r),t.setQuery().setFragment(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.computeFeatureBaseUrlFromUrl=t.isSharedLinkCase=t._computeAccountSwitchUrl=t.switchAccount=void 0,t.switchAccount=function(e,t,a){var n=window.location.href;if(!e)throw new Error("current userId is undefined");var o=r(n,t,e,a);o&&(sessionStorage.setItem("Ensemble.switchedAccounts","true"),window.location.href=o)},t._computeAccountSwitchUrl=r,t.isSharedLinkCase=n,t.computeFeatureBaseUrlFromUrl=o})),define("modules/clean/growth/user_action/trackers/split_tmf_tsd_tracker",["require","exports","tslib","modules/clean/growth/user_action/tracker"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitTmfTsdTracker=t.SplitTmfTsdProjectTag=t.SplitTmfTsdActions=void 0,(function(e){e.SEEN_TOOLTIP="seen_tooltip"})(t.SplitTmfTsdActions||(t.SplitTmfTsdActions={})),t.SplitTmfTsdProjectTag="split_tmf_tsd";var n=(function(e){function r(){var a=null!==e&&e.apply(this,arguments)||this;return a.project=t.SplitTmfTsdProjectTag,a}return a.__extends(r,e),r})(r.GrowthUserActionTracker);t.SplitTmfTsdTracker=n})),define("modules/clean/react/maestro_nav/maestro_nav",["require","exports","tslib","classnames","react","react-redux","dig-components/icons/src","dig-components/buttons","dig-components/icons","dig-components/icons/src","spectrum/vertically_fixed/index","modules/clean/appshell/account","modules/clean/react/css","modules/clean/react/maestro_nav/shared_code/api","modules/clean/react/maestro_nav/shared_code/maestro_sidebar","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/util/post_tti_components","modules/clean/upsell/prompt_event_emitter","modules/clean/viewer","modules/core/browser","modules/core/browser_detection","modules/core/xhr","modules/clean/navigation","modules/clean/deprecated_ajax/ajax","modules/clean/web_timing_logger","modules/clean/analytics","modules/clean/metrics/index","modules/clean/react/maestro/components/header_portal","modules/clean/react/maestro_nav/shared_code/maestro_context","modules/clean/browse_uri_interface","modules/clean/search/single_page/navigation","modules/clean/react/maestro_nav/util/split-tmf-tsd-products","modules/clean/react/maestro_nav/shared_code/footer_v2","modules/clean/react/maestro_nav/shared_code/maestro_feature","modules/clean/react/maestro_nav/folder_explorer/placeholder","modules/clean/react/maestro_nav/folder_explorer/data/store"],(function(e,t,a,r,n,o,s,i,l,c,d,u,m,p,_,f,v,g,h,E,N,b,T,P,S,y,w,I,A,L,R,F,x,k,O,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootComponent=t.MaestroNavWithWrapper=t.isFeatureActive=t.MaestroNavInternal=t.MaestroNav=void 0,r=a.__importDefault(r),n=a.__importDefault(n),E=a.__importStar(E),P=a.__importStar(P),S=a.__importStar(S);var M=function(e,t){b.sendXhr("/teamswalogger",{event_name:e,extra:JSON.stringify(t),for_uids:JSON.stringify(h.Viewer.get_viewer().get_users().map((function(e){return e.id})))})};function D(e,t){function a(e){return u.computeFeatureBaseUrlFromUrl(e).getPath()}function r(e,t,r){var n=r.map(a);return-1!==n.indexOf(e)&&-1!==n.indexOf(t)}var n=a(t),o=a(e);return!!(r(n,o,["/home","/work","/personal","/history","/s","/sh","/scl"])||r(n,o,["/team/admin","/team/admin/members","/team/admin/external_people"])||r(n,o,["/organization","/enterprise_console/teams"]))||n===o}function B(){}t.isFeatureActive=D;var q=function(){return window.location.href},H=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement(I.MaestroPortal,{element:I.MaestroPortalElement.NAV},n.default.createElement(i.IconButton,{className:"maestro_nav__toggle",onClick:this.props.onClick,size:"standard",variant:"transparent","aria-label":this.props.navToggleAriaLabel},n.default.createElement(l.UIIcon,{src:c.ListViewLine})))},t})(n.default.Component),U=function(e){return n.default.createElement("button",{className:"maestro_nav__curtain",onClick:e.onClick,"aria-label":e.navToggleAriaLabel})},j=(function(t){function o(r){var o=t.call(this,r)||this;o.navigateToUrl=function(e){E.redirect(e)},o.navSwitchAccount=function(e){var t=h.Viewer.get_viewer();u.switchAccount(window.ensemble.viewer.getActiveUser().userId,e,t.get_user_by_role(e,!0).id)},o.handleNavToggle=function(){o.setState({isExpanded:!o.state.isExpanded})},o.hasSubNavItems=function(e){return e.subNavItems&&e.subNavItems.length>0},o.handleNavigationClick=function(t,r){if(r.isBlocked)switch(r.blockerModule){case"modules/clean/teams/locked_team_nav_blocker":return new Promise((function(t,a){e(["modules/clean/teams/locked_team_nav_blocker"],t,a)})).then(a.__importStar).then((function(e){return e.blocker.blockNav(r)})),void t.preventDefault();default:return}if("admin"===r.uniqueName&&y.TeamsWebActionsLogger.log("home_page_admin_console_tab_clicked"),"adminMembers"===r.uniqueName&&y.TeamsWebActionsLogger.log("admin_console_page_members_tab_clicked"),o.props.allowSidebarNavigationDelegation&&T.navigationActionDispatcher.dispatch({id:r.uniqueName,method:T.getNavigationMethod(t),url:r.url,details:r}))return t.preventDefault(),void R.searchNavigationManager.emit("exit")},o.renderLeftHA=function(){return o.state.haProps?n.default.createElement(v.PostTTILeftHA,a.__assign({},o.state.haProps)):null},o.logRedBadgeRendered=function(){var e;"Feature"===o.getNavType()&&o.state.activeProduct?(y.TeamsWebActionsLogger.log("admin_console_page_members_tab_badged"),(e=w.getMetricsReporter().child({origin:"Members"}).createCounter({ns:"team_discovery",name:"web/admin_console_badging"})).increment(1),e.record()):(y.TeamsWebActionsLogger.log("home_page_admin_console_tab_badged"),(e=w.getMetricsReporter().child({origin:"Admin Console"}).createCounter({ns:"team_discovery",name:"web/admin_console_badging"})).increment(1),e.record())},o.renderFeatureReplacement=function(e){switch(e.uniqueName){case"splitTmfTsd":var t=h.Viewer.get_viewer().work_user;return t&&n.default.createElement(F.SplitFoldersSidebarItem,{feature:e,user:t});case"allFiles":if(!N.is_supported_mobile_browser())return o.renderFileExplorer(e)}},o.getFeatureByUniqueName=function(e){for(var t=0,a=o.props.products;t<a.length;t++)for(var r=0,n=a[t].features;r<n.length;r++){var s=n[r];if(s.uniqueName===e)return s}},o._onFolderSelected=function(e){var t=o._getCurrentUser(),a=L.browse_uri_for_fq_path(t,encodeURIComponent(e));T.navigationActionDispatcher.dispatch({id:"fileExplorerUI",method:T.NavigationMethod.REDIRECT,url:a.toString(),details:void 0})?R.searchNavigationManager.emit("exit"):o.navigateToUrl(L.browse_uri_for_fq_path(t,e).toString())};var s=r.products,i=r.viewerInfo,l=r.showCollapsibleGroups,c=o.getActiveProduct(s),d=o.getActiveFeature(c);return o.state={isExpanded:!1,products:s,teamSize:null,numMembersString:null,viewerInfo:i,activeProduct:c,activeFeature:d,experiments:{},fetching:!0,numRequestsAndSuggestions:0,isHaShownOrLoading:!0,contextValue:{showCollapsibleGroups:l,renderFeatureReplacement:o.renderFeatureReplacement,activeProduct:c,activeFeature:d}},o}return a.__extends(o,t),o.getDerivedStateFromProps=function(e,t){var r=e.showCollapsibleGroups,n=t.activeFeature,o=t.activeProduct,s=t.contextValue.renderFeatureReplacement,i={showCollapsibleGroups:r,splitTmfTsdShowTooltip:t.experiments.splitTmfTsdShowTooltip,renderFeatureReplacement:s,activeProduct:o,activeFeature:n};for(var l in i){var c=l;if(i[c]!==t.contextValue[c])return a.__assign(a.__assign({},t),{contextValue:i})}return t},o.prototype.getActiveProduct=function(e){var t=this;return e.find((function(e){return t._productIsActive(e)}))||null},o.prototype._productIsActive=function(e){return!!this.props.isFeatureActive(e.url,q())||!!this.getActiveFeature(e)},o.prototype.getActiveFeature=function(e){if(e)for(var t=0,a=e.features;t<a.length;t++){var r=a[t];if(this.hasSubNavItems(r))for(var n=0,o=r.subNavItems;n<o.length;n++){var s=o[n];if(this.props.isFeatureActive(s.url,q()))return s}if(this.props.isFeatureActive(r.url,q()))return r}return null},o.prototype.getActiveProductAndFeature=function(e){var t=this.getActiveProduct(e);return{activeProduct:t,activeFeature:this.getActiveFeature(t)}},o.prototype.componentDidMount=function(){var e=this,t=this.getActiveProduct(this.props.products);p.fetchNavData(this.props.activeAccountId,t?t.uniqueName:null,(function(t,a,r,n,o){var s=window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1;s&&window.performance.mark("MaestroNav data setState start"),n=n||e.state.viewerInfo;var i=e.getActiveProductAndFeature(t),l=i.activeProduct,c=i.activeFeature;e.setState({products:t,teamSize:a,numMembersString:r,viewerInfo:n,activeProduct:l,activeFeature:c,experiments:o||{},fetching:!1},(function(){s&&(window.performance.mark("MaestroNav data setState end"),window.performance.measure("MaestroNav data setState","MaestroNav data setState start","MaestroNav data setState end"))})),t.map((function(t){t.redNotification&&S.waitForTTI().then((function(){P.SilentBackgroundRequest({url:"/team/admin/fetch_num_membership_requests_and_suggestions",subject_user:h.Viewer.get_viewer().work_user,success:function(t,a){e.setState({numRequestsAndSuggestions:Number(a)})}})}))}))})),g.promptBufferedEventEmitter.on(g.Events.ON_PROMPT_DISMISSED,(function(t){"HOUSE_AD"===t&&e.setState({isHaShownOrLoading:!1})})),g.promptBufferedEventEmitter.on(g.Events.ON_PROMPT_INITIALIZED,(function(t){t&&t.didHouseAdLoad&&!t.didHouseAdLoad()&&e.setState({isHaShownOrLoading:!1})})),g.promptBufferedEventEmitter.on(g.Events.ON_HA_LOADED,(function(t){e.setState({haProps:t})}))},o.prototype.setTitle=function(e,t){t&&t.pageTitle?document.title=t.pageTitle:e&&e.pageTitle&&(document.title=e.pageTitle)},o.prototype.productHasFeatures=function(e){return!!e&&e.features.length>0},o.prototype.shouldUseFlattenedNav=function(){return!this.state.activeProduct||!["admin","federation"].includes(this.state.activeProduct.uniqueName)},o.prototype.getNavType=function(){return this.productHasFeatures(this.state.activeProduct)?"Feature":"Product"},o.prototype._getCurrentUser=function(){return h.Viewer.get_viewer().get_user_by_role(this.state.viewerInfo.activeRole,!1)},o.prototype.renderFileExplorer=function(e){var t,a=this.props,r=a.showFileExplorer,o=a.fileExplorerPerf,c=a.folderExplorerVariant,d=this.getFeatureByUniqueName("allFiles");if(void 0===d)throw new Error("Tried to render folder explorer without an all Files nav item");var u="allFiles"===(null===(t=this.state.activeFeature)||void 0===t?void 0:t.uniqueName);if("EXPANDED"===c||"COLLAPSED"===c||(r||"EXPANDED"===c||"COLLAPSED"===c||"NON_INTERACTIVE"===c)&&u){var m=this._getCurrentUser(),p=d.displayName;return n.default.createElement("div",{className:"treeview-container"},n.default.createElement(v.PostTTITreeView,{user:m,onFolderSelected:this._onFolderSelected,rootFolderName:p,placeholder:n.default.createElement(O.FolderExplorerPlaceholder,{allFilesIsActive:u,rootFolderName:p}),alwaysShowCaret:!!o,beginExpanded:"EXPANDED"===c||u&&("COLLAPSED"===c||"NON_INTERACTIVE"===c),inBrowsePage:u}))}if("NON_INTERACTIVE"===c)return n.default.createElement(k.MaestroFeature,{feature:e,openInNewPage:!1,isActive:u,renderBadge:!1,logRedBadgeRendered:B,onNavigationClick:B},n.default.createElement(i.IconButton,{size:"small",variant:"transparent",tabIndex:-1,style:{position:"fixed",left:"11px",marginTop:"-3px"}},n.default.createElement(l.UIIcon,{src:s.ChevronRightLine,size:"small"})))},o.prototype.render=function(){var e=(this.state.experiments||{}).featuresConfig,t=this.getNavType();this.setTitle(this.state.activeProduct,this.state.activeFeature);var a=r.default({"maestro-nav__offset-container":!0,"maestro-nav__expanded":this.state.isExpanded});return n.default.createElement(A.MaestroContext.Provider,{value:this.state.contextValue},n.default.createElement(d.VerticallyFixed,{className:a},n.default.createElement(H,{onClick:this.handleNavToggle,navToggleAriaLabel:f.navToggleAriaLabel()}),n.default.createElement(U,{onClick:this.handleNavToggle,navToggleAriaLabel:f.navToggleAriaLabel()}),n.default.createElement(_.MaestroSidebar,{activeFeature:this.state.activeFeature,activeProduct:this.state.activeProduct,onNavigationClick:this.handleNavigationClick,products:this.state.products,navType:t,navigateToUrl:this.navigateToUrl,switchAccount:this.navSwitchAccount,viewerInfo:this.state.viewerInfo,teamSize:this.state.teamSize,numMembersString:this.state.numMembersString,numRequestsAndSuggestions:this.state.numRequestsAndSuggestions,logRedBadgeRendered:this.logRedBadgeRendered,logger:M,renderLeftHA:this.renderLeftHA,fetching:this.state.fetching,featuresConfig:e,flattenedNav:this.shouldUseFlattenedNav()}),n.default.createElement(x.FooterV2,{logLinkClick:M,linkText:this.props.footerLinkText})))},o})(n.default.Component);t.MaestroNavInternal=j;var W=m.requireCssWithComponent((function(e){return n.default.createElement(j,a.__assign({},e,{isFeatureActive:D}))}),["/static/css/dig-components/index.web-vflGJghcb.css","/static/css/maestro-nav/maestro-nav-vflxdEIVf.css"]);t.MaestroNav=W;var G=function(e){var t=n.default.useMemo((function(){return C.getStoreForFileExplorer()}),[]);return n.default.createElement(o.Provider,{store:t},n.default.createElement("div",{className:"maestro-nav-component"},n.default.createElement(W,a.__assign({},e))))};t.MaestroNavWithWrapper=G,t.RootComponent=function(e){return n.default.createElement(G,a.__assign({},e))}})),define("modules/clean/react/maestro_nav/folder_explorer/data/reducer",["require","exports","tslib","immutable","modules/clean/react/maestro_nav/folder_explorer/data/types","modules/clean/react/tree","modules/clean/react/tree_item","modules/core/i18n"],(function(e,t,a,r,n,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileExplorerReducer=t.defaultFileExplorerState=t.FILE_EXPLORER_ROOT_PATH=void 0,r=a.__importStar(r),t.FILE_EXPLORER_ROOT_PATH="",t.defaultFileExplorerState={tree:o.Tree.createWithRootItem(new s.TreeItem({key:t.FILE_EXPLORER_ROOT_PATH,label:i.intl.formatMessage({id:"iqMtOi",defaultMessage:"Dropbox"}),canExpand:!0})),loadingItemKeys:r.Set([]),selectedItemKey:void 0,expandedItemKeys:r.Set([]),user:void 0,alwaysShowCaret:!1,lastFolderUpdated:void 0},t.fileExplorerReducer=function(e,i){switch(void 0===e&&(e=t.defaultFileExplorerState),i.type){case n.ActionTypes.APP_INIT:return(function(e,n){var i=n.payload,l=i.user,c=i.rootFolderName,d=i.alwaysShowCaret,u=i.beginExpanded?[t.FILE_EXPLORER_ROOT_PATH]:[];return a.__assign(a.__assign({},e),{user:l,tree:o.Tree.createWithRootItem(new s.TreeItem({key:t.FILE_EXPLORER_ROOT_PATH,label:c,canExpand:!0})),expandedItemKeys:r.Set(u),alwaysShowCaret:d})})(e,i);case n.ActionTypes.SET_TMF_PATH:return(function(e,t){var r=t.payload.path;return a.__assign(a.__assign({},e),{tmfPath:r})})(e,i);case n.ActionTypes.SELECT_FOLDER:return(function(e,t){var r=t.payload.folder;return a.__assign(a.__assign({},e),{selectedItemKey:r.key})})(e,i);case n.ActionTypes.EXPAND_FOLDER:return(function(e,t){var r=t.payload.folder;return a.__assign(a.__assign({},e),{expandedItemKeys:e.expandedItemKeys.add(r.key)})})(e,i);case n.ActionTypes.COLLAPSE_FOLDER:return(function(e,t){var r=t.payload.folder;return a.__assign(a.__assign({},e),{expandedItemKeys:e.expandedItemKeys.delete(r.key)})})(e,i);case n.ActionTypes.ADD_SUB_FOLDERS:return(function(e,t){var r=t.payload,n=r.folder,o=r.subFolders,s=e.tree;return a.__assign(a.__assign({},e),{tree:s.setChildItems(n,o),lastFolderUpdated:n.key,loadingItemKeys:e.loadingItemKeys.delete(n.key)})})(e,i);case n.ActionTypes.SET_LOADING_FOLDER:return(function(e,t){var r=t.payload.folder;return a.__assign(a.__assign({},e),{loadingItemKeys:e.loadingItemKeys.add(r.key)})})(e,i)}return e}})),define("modules/clean/react/maestro_nav/folder_explorer/data/store",["require","exports","modules/clean/redux/namespaces","modules/clean/react/maestro_nav/folder_explorer/data/reducer","modules/clean/redux/store"],(function(e,t,a,r,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreForFileExplorer=void 0,t.getStoreForFileExplorer=function(){var e;return o||(o=n.getStoreAndRegisterReducers(((e={})[a.FILE_EXPLORER_NAMESPACE_KEY]=r.fileExplorerReducer,e))),o}})),define("modules/clean/react/maestro_nav/folder_explorer/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0,(function(e){e.APP_INIT="FILE_EXPLORER/APP_INIT",e.SET_TMF_PATH="FILE_EXPLORER/SET_TMF_PATH",e.SELECT_FOLDER="FILE_EXPLORER/SELECT_FOLDER",e.EXPAND_FOLDER="FILE_EXPLORER/EXPAND_FOLDER",e.COLLAPSE_FOLDER="FILE_EXPLORER/COLLAPSE_FOLDER",e.GET_SUB_FOLDERS="FILE_EXPLORER/GET_SUB_FOLDERS",e.ADD_SUB_FOLDERS="FILE_EXPLORER/ADD_SUB_FOLDERS",e.OPEN_TO_PATH="FILE_EXPLORER/OPEN_TO_PATH",e.APPLY_BOLT_UPDATES="FILE_EXPLORER/APPLY_BOLT_UPDATES",e.SET_LOADING_FOLDER="FILE_EXPLORER/SET_LOADING_FOLDER"})(t.ActionTypes||(t.ActionTypes={}))})),define("modules/clean/react/maestro_nav/folder_explorer/placeholder",["require","exports","tslib","react","dig-components/icons/src","dig-components/buttons","dig-components/icons","dig-components/typography","modules/clean/analytics"],(function(e,t,a,r,n,o,s,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderExplorerPlaceholder=void 0,r=a.__importDefault(r),t.FolderExplorerPlaceholder=function(e){var t=e.allFilesIsActive,a=e.rootFolderName,c=r.default.useState(!1),d=c[0],u=c[1];return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.IconButton,{size:"small",variant:"transparent",tabIndex:-1,style:{position:"fixed",left:"11px",marginTop:"4px"},onClick:function(){l.TeamsWebActionsLogger.log("click_folder_explorer_exapnd_placeholder")}},r.default.createElement(s.UIIcon,{src:n.ChevronRightLine,size:"small"})),r.default.createElement(i.Title,{color:t||d?"standard":"faint",size:"small",style:{paddingTop:"3px",cursor:"pointer"},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},a))}})),define("modules/clean/react/maestro_nav/post_tti/api",["require","exports","tslib","modules/clean/web_timing_logger","modules/clean/react/async/loadable"],(function(e,t,a,r,n){"use strict";function o(){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,r.waitForTTI()];case 1:return t.sent(),[4,new Promise((function(t,a){e(["modules/clean/react/maestro_nav/post_tti/interface"],t,a)})).then(a.__importStar)];case 2:return[2,t.sent()]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.PostNavTTIComponent=t.waitForHomeTTI=void 0,t.waitForHomeTTI=o,t.PostNavTTIComponent=function(e){var t=this,r=e.getPostTTIRenderer,s=e.preTTIRenderer;return n.Loadable({loader:function(){return a.__awaiter(t,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return e=r,[4,o()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},loading:s})}})),define("modules/clean/react/maestro_nav/shared_code/api",["require","exports","modules/clean/react/maestro_nav/shared_code/constants"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNavData=void 0,t.fetchNavData=function(e,t,r){var n=new XMLHttpRequest,o="https://"+a.WWW_HOST+"/nav_menu?_subject_account_id="+e+"&nav_data_version=5";t&&(o+="&product="+t),n.open("GET",o,!0),n.withCredentials=!0,n.onload=function(){if(!(n.status>=200&&n.status<400))throw new Error("Error status "+n.status+" returned from /nav_menu");try{var e=JSON.parse(n.responseText);r(e.products,e.teamSize,e.numMembersString,e.viewerInfo,e.experiments)}catch(e){throw new Error('Error "'+String(e)+'" JSON parsing "'+n.responseText+'" (status: '+n.status+")")}},n.onerror=function(e){var t=e,a={message:t.message,colno:t.colno,filename:t.filename,lineno:t.lineno};throw new Error('Error calling /nav_menu. "'+JSON.stringify(a)+'"')},n.send()}})),define("modules/clean/react/maestro_nav/shared_code/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPERSCIRPT_TYPE_NOTIFICATION_BADGE=t.SUPERSCIRPT_TYPE_ACCESSORY_BADGE=t.WWW_HOST=void 0,t.WWW_HOST="www.dropbox.com",t.SUPERSCIRPT_TYPE_ACCESSORY_BADGE="badge",t.SUPERSCIRPT_TYPE_NOTIFICATION_BADGE="notification_badge"})),define("modules/clean/react/maestro_nav/shared_code/feature-nav",["require","exports","tslib","classnames","react","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/left_arrow_icon","modules/clean/react/maestro_nav/shared_code/notification_badge","dig-components/badges","dig-components/badges","modules/clean/react/maestro_nav/shared_code/constants"],(function(e,t,a,r,n,o,s,i,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureNav=void 0,r=a.__importDefault(r);var m=(function(e){function t(t){var r=e.call(this,t)||this;r.onFeatureClick=function(e){return r.hasSubNavItems(e)?function(t){r.toggleNavItemMenu(e.uniqueName),t.target.blur()}:function(t){return r.props.onNavigationClick(t,e)}},r.onProductClick=function(e){return function(t){return r.props.onNavigationClick(t,e)}},r.hasSubNavItems=function(e){return e.subNavItems&&e.subNavItems.length>0},r.toggleNavItemMenu=function(e){var t,n=r.isNavItemMenuExpanded(e),o=a.__assign(a.__assign({},r.state.navItemMenuExpanded),((t={})[e]=!n,t));r.setState({navItemMenuExpanded:o})},r.isNavItemMenuExpanded=function(e){return!0===r.state.navItemMenuExpanded[e]};var n=r.createNavItemMenuExpanded();return r.state={navItemMenuExpanded:n},r}return a.__extends(t,e),t.prototype.createNavItemMenuExpanded=function(){var e,t=this.props,a=t.activeFeature,r=t.features;if(a&&a.uniqueName)for(var n=0,o=r;n<o.length;n++){var s=o[n];if(s.subNavItems)for(var i=0,l=s.subNavItems;i<l.length;i++){if(l[i].uniqueName===a.uniqueName)return(e={})[s.uniqueName]=!0,e}}return{}},t.prototype.renderDisplaySuperscript=function(e,t){return t===u.SUPERSCIRPT_TYPE_NOTIFICATION_BADGE?n.default.createElement(c.NotificationBadge,{id:"notification_badge",className:"maestro-nav__feature-badge"},e):n.default.createElement(d.AccessoryBadge,{id:"accessory_badge",className:"maestro-nav__feature-badge"},e)},t.prototype.render=function(){var e=this,t=this.props,a=t.activeProduct,c=t.activeFeature,d=t.features,u=t.numRequestsAndSuggestions,m=t.logRedBadgeRendered,p=void 0!==a.redNotification&&a.redNotification&&(null==c||"adminMembers"!==c.uniqueName)&&u>0,_="admin"===a.uniqueName,f=r.default({"maestro-nav__features-header-link":!0,"maestro-nav__features-header-link-with-fontfamily":_});return n.default.createElement("ul",{className:"maestro-nav__features"},n.default.createElement("li",null,n.default.createElement("h2",{className:"maestro-nav__features-header"},n.default.createElement("a",{href:a.url,onClick:this.onProductClick(a),className:f},a.displayName))),d.map((function(t,a){var c=t.url,d=t.subNavItems&&t.subNavItems.length>0,u=e.isNavItemMenuExpanded(t.uniqueName),_=t===e.props.activeFeature||d&&!u&&-1!==t.subNavItems.indexOf(e.props.activeFeature),f=r.default({"maestro-nav__feature":!0,"maestro-nav__active-feature":_,"maestro-nav__blocked-feature":t.isBlocked});return n.default.createElement("li",{key:c},n.default.createElement("div",{className:"maestro-nav__feature-wrap"},n.default.createElement(s.UserEducationEffect,{containerName:"FeatureNav",name:t.uniqueName,useSpan:!0},n.default.createElement("a",{href:t.isBlocked||d?"#":c,className:f,onClick:e.onFeatureClick(t),"data-trackingid":"feat-"+t.uniqueName},t.displayName,t.displaySuperscript?e.renderDisplaySuperscript(t.displaySuperscript,t.displaySuperscriptStyle):void 0,t.isBlocked&&n.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),"adminMembers"===t.uniqueName&&p&&n.default.createElement(l.NotificationBadge,{logRedBadgeRendered:m}),d&&n.default.createElement(i.LeftArrowIcon,{className:r.default({"maestro-nav__expand_feature":!u,"maestro-nav__collapse_feature":u})})))),u&&d&&t.subNavItems.map((function(t){var a=r.default({"maestro-nav__feature":!0,"maestro-nav__active-feature":t===e.props.activeFeature,"maestro-nav__blocked-feature":t.isBlocked});return n.default.createElement("div",{key:t.uniqueName,className:"maestro-nav__feature-wrapper maestro-nav__product-sup-item-wrapper"},n.default.createElement("a",{href:t.isBlocked?"#":t.url,className:a,onClick:e.onFeatureClick(t),"data-trackingid":"feat-"+t.uniqueName},t.displayName,t.displaySuperscript?e.renderDisplaySuperscript(t.displaySuperscript):void 0,t.isBlocked&&n.default.createElement(o.LockIcon,{className:"maestro-nav__lock"})))})))})))},t})((n=a.__importDefault(n)).default.Component);t.FeatureNav=m})),define("modules/clean/react/maestro_nav/shared_code/flattened-nav",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/dropbox_logo","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/shared_code/maestro_product"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedNav=void 0;var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderDropboxLogo=function(){var e=this.props.onHomeClick,t=r.default.createElement(n.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":o.homeAriaLabel()});return this.props.dropboxLogoUrl?r.default.createElement("a",{className:"maestro-nav__home-button",href:this.props.dropboxLogoUrl,onClick:e,"data-trackingid":"logo"},t):t},t.prototype.render=function(){var e=this,t=this.props.products;return r.default.createElement("div",{className:"maestro-nav__panel"},this.renderDropboxLogo(),r.default.createElement("div",{className:"maestro-nav__contents"},r.default.createElement("ul",{className:"maestro-nav__products"},t.map((function(t){return r.default.createElement(s.MaestroProduct,a.__assign({},e.props,{key:t.uniqueName,product:t}))})))),this.props.renderLeftHA&&this.props.renderLeftHA())},t})((r=a.__importDefault(r)).default.Component);t.FlattenedNav=i})),define("modules/clean/react/maestro_nav/shared_code/footer_v2",["require","exports","tslib","dig-components/typography","react"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FooterV2=void 0,n=a.__importDefault(n),t.FooterV2=function(e){var t=e.linkText,a=e.logLinkClick;return n.default.createElement("footer",{className:"footer-v2"},n.default.createElement("div",{className:"footer-link-holder"},n.default.createElement(r.Link,{href:"/privacy",variant:"monochromatic",hasNoUnderline:!0,onClick:function(){return null==a?void 0:a.call("footer_button_clicked",{button_id:"privacy"})},target:"_blank",rel:"noreferrer"},t)))}})),define("modules/clean/react/maestro_nav/shared_code/left_arrow_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeftArrowIcon=void 0,r=a.__importDefault(r),t.LeftArrowIcon=function(e){return r.default.createElement("svg",a.__assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}),r.default.createElement("title",null,e.alt||"Left arrow"),r.default.createElement("g",{id:"arrow",transform:"translate(-32.000000, -32.000000)"},r.default.createElement("g",{id:"arrow-left",transform:"translate(32.000000, 32.000000)"},r.default.createElement("polygon",{id:"Combined-Shape",points:"12.9497475 7.05000305 8 11.9997505 12.9497475 16.949498 14.363961 15.5352844 10.8284271 11.9997505 14.363961 8.46421661"}))))}})),define("modules/clean/react/maestro_nav/shared_code/lock_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LockIcon=void 0,r=a.__importDefault(r),t.LockIcon=function(e){return r.default.createElement("svg",a.__assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"8px",height:"10px",viewBox:"0 0 8 10"}),r.default.createElement("title",null,e.alt||"Lock"),r.default.createElement("g",{"fill-rule":"evenodd",style:{fill:"none"}},r.default.createElement("path",{d:"M1.5,5.0233365 C1.61081383,5.07571391 1.79156144,5.1271516 2.02641537,5.1695923 C2.53116508,5.26080616 3.23772228,5.30304304 3.99147442,5.29018883 C4.72697272,5.27764591 5.44536431,5.2134662 5.96818405,5.1130429 C6.19749663,5.0689965 6.37973948,5.0195837 6.5,4.97094138 C6.5,4.61127567 6.5,4.5367094 6.5,3.97982189 L6.5,2.55833246 C6.5,1.44077827 5.39680687,0.5 4,0.5 C2.60319313,0.5 1.5,1.44077827 1.5,2.55833246 L1.5,4.08873795 C1.5,4.48924589 1.5,4.52037046 1.5,5.0233365 Z",style:{stroke:"#6a7c8f",strokeWidth:1}}),r.default.createElement("rect",{x:"0.5",y:"4.5",width:"7",height:"5",rx:"1",style:{fill:"#6a7c8f",stroke:"#6a7c8f",strokeWidth:1}})))}})),define("modules/clean/react/maestro_nav/shared_code/maestro_context",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaestroContext=void 0,r=a.__importDefault(r),t.MaestroContext=r.default.createContext(void 0)})),define("modules/clean/react/maestro_nav/shared_code/maestro_feature",["require","exports","tslib","classnames","react","dig-components/badges","dig-components/typography","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/notification_badge"],(function(e,t,a,r,n,o,s,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaestroFeature=void 0,r=a.__importDefault(r),n=a.__importDefault(n),t.MaestroFeature=function(e){var t=e.feature,a=e.openInNewPage,c=e.renderBadge,d=e.isActive,u=e.imageIcon,m=e.onNavigationClick,p=e.logRedBadgeRendered,_=e.children,f=n.default.useState(!1),v=f[0],g=f[1],h=t.displayName,E=t.displaySuperscript,N=t.uniqueName,b=t.url,T=r.default({"maestro-nav__product":!0,"maestro-nav__active-product":d}),P=a?"_blank":"_self";return n.default.createElement("li",null,n.default.createElement("div",{className:"maestro-nav__product-wrapper"},n.default.createElement(i.UserEducationEffect,{containerName:"FeatureNav",name:N,useSpan:!0},n.default.createElement("a",{href:b,className:T,onClick:function(e){return m(e,t)},target:P,rel:"noopener","data-trackingid":"feat-"+N},u,n.default.createElement(s.Title,{color:d||v?"standard":"faint",size:"small",onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)}},h,!!E&&n.default.createElement(o.AccessoryBadge,{style:{marginLeft:"0.5em",verticalAlign:"middle"}},E),"admin"===N&&c&&n.default.createElement(l.NotificationBadge,{logRedBadgeRendered:p})),_))))},t.MaestroFeature.displayName="MaestroFeature"})),define("modules/clean/react/maestro_nav/shared_code/maestro_product",["require","exports","tslib","classnames","react","dig-components/badges","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/typography","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/maestro_feature","modules/clean/react/maestro_nav/shared_code/maestro_context"],(function(e,t,a,r,n,o,s,i,l,c,d,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaestroProduct=void 0,r=a.__importDefault(r),n=a.__importDefault(n),t.MaestroProduct=function(e){var t=e.product,r=e.activeProduct;return t.features.length>0?n.default.createElement(p,a.__assign({},e)):n.default.createElement(_,a.__assign({isActiveProduct:t===r},e))},t.MaestroProduct.displayName="MaestroProduct";var p=function(e){var t=e.product,a=e.activeFeature,o=e.numRequestsAndSuggestions,p=e.onNavigationClick,_=e.logRedBadgeRendered,f=t.displayName,v=t.openInNewPage,g=t.features,h=t.uniqueName,E=n.default.useState(!1),N=E[0],b=E[1],T=n.default.useContext(m.MaestroContext)||{},P=T.showCollapsibleGroups,S=T.renderFeatureReplacement,y=!0===P&&!!g.length,w=o>0,I=g.length>0,A=r.default({"maestro-nav__product":!0,"maestro-nav__product-group":!0}),L=f&&f.length&&n.default.createElement(c.Text,{className:A,color:"faint",size:"small",id:h},f);return n.default.createElement("li",null,n.default.createElement("div",{className:I?"maestro-nav__product_group-wrapper":"maestro-nav__product-wrapper"},n.default.createElement(d.UserEducationEffect,{containerName:"ProductNav",name:h,useSpan:!0},y?n.default.createElement(s.Button,{className:"maestro-nav__product_caret",onClick:function(){return b((function(e){return!e}))},variant:"transparent",hasNoUnderline:!0,withIconLeft:n.default.createElement(i.UIIcon,{src:N?l.ChevronRightLine:l.ChevronDownLine})},L):L),!N&&n.default.createElement("ul",{className:"maestro-nav__features"},g.map((function(e){return(null==S?void 0:S(e))||n.default.createElement(u.MaestroFeature,{key:e.uniqueName,isActive:a===e,feature:e,renderBadge:w,onNavigationClick:p,openInNewPage:!!v,logRedBadgeRendered:_})})))))},_=function(e){var t=e.product,a=e.isActiveProduct,s=e.onNavigationClick,i=t.displayName,l=t.openInNewPage,u=t.displaySuperscript,m=t.url,p=t.uniqueName,_=n.default.useState(!1),f=_[0],v=_[1],g=r.default({"maestro-nav__product":!0,"maestro-nav__active-product":a}),h=n.default.createElement(n.default.Fragment,null,n.default.createElement(c.Title,{color:a||f?"standard":"faint",size:"small",onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)}},i,(function(e){if(e)return n.default.createElement(o.NotificationBadge,{style:{marginLeft:"0.5em",verticalAlign:"middle"}},e)})(u))),E=l?"_blank":"_self";return n.default.createElement("li",null,n.default.createElement("div",{className:"maestro-nav__product-wrapper"},n.default.createElement(d.UserEducationEffect,{containerName:"ProductNav",name:p,useSpan:!0},n.default.createElement("a",{"aria-current":!!a&&"page",href:m,className:g,id:p,onClick:function(e){return s(e,t)},target:E,rel:"noopener","data-trackingid":"prod-"+p},h))))}})),define("modules/clean/react/maestro_nav/shared_code/maestro_sidebar",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/constants","modules/clean/react/maestro_nav/shared_code/nested-nav","modules/clean/react/maestro_nav/shared_code/flattened-nav"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaestroSidebar=void 0;var i=(function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.renderContents=function(){return this.props.flattenedNav?r.createElement(s.FlattenedNav,{activeFeature:this.props.activeFeature,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,products:this.props.products,renderLeftHA:this.props.renderLeftHA,dropboxLogoUrl:this.props.viewerInfo.isGuestAdmin?null:"https://"+n.WWW_HOST+"/",numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,logRedBadgeRendered:this.props.logRedBadgeRendered}):r.createElement(o.NestedNav,{activeFeature:this.props.activeFeature,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,nestedNavLevel:this.props.navType,products:this.props.products,renderLeftHA:this.props.renderLeftHA,dropboxLogoUrl:this.props.viewerInfo.isGuestAdmin?null:"https://"+n.WWW_HOST+"/",numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,logRedBadgeRendered:this.props.logRedBadgeRendered})},t.prototype.render=function(){return r.createElement("div",{className:"maestro-nav__container"},this.renderContents(),r.createElement("div",{className:"footer-v2-padding"}))},t})((r=a.__importStar(r)).Component);t.MaestroSidebar=i})),define("modules/clean/react/maestro_nav/shared_code/notification_badge",["require","exports","tslib","react","dig-components/badges"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationBadge=void 0,r=a.__importDefault(r),t.NotificationBadge=function(e){var t=e.logRedBadgeRendered;return r.default.useEffect((function(){return t()}),[]),r.default.createElement(n.NotificationBadge,{className:"maestro-nav__admin-console-badge"})}})),define("modules/clean/react/maestro_nav/shared_code/nested-nav",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/dropbox_logo","modules/clean/react/maestro_nav/shared_code/feature-nav","modules/clean/react/maestro_nav/shared_code/product-nav","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/shared_code/left_arrow_icon"],(function(e,t,a,r,n,o,s,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestedNav=void 0,r=a.__importDefault(r);var c=function(e){var t=e.nestedNavLevel,a=e.onHomeClick,o=e.dropboxLogoUrl;if(o){var s="Feature"===t;return r.default.createElement("a",{className:"maestro-nav__home-button",href:o,onClick:a,"data-trackingid":"logo"},r.default.createElement(n.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":i.homeAriaLabel()}),s&&r.default.createElement(l.LeftArrowIcon,{className:"maestro-nav__caret"}))}return r.default.createElement(n.DropboxLogo,{className:"maestro-nav__logo maestro-nav__logo--no-link",color:"","aria-label":i.homeAriaLabel()})};t.NestedNav=function(e){return r.default.createElement("div",{className:"maestro-nav__panel"},r.default.createElement(c,a.__assign({},e)),r.default.createElement("div",{className:"maestro-nav__contents"},"Feature"===e.nestedNavLevel&&e.activeProduct?r.default.createElement(o.FeatureNav,{activeProduct:e.activeProduct,activeFeature:e.activeFeature,features:e.activeProduct.features,onNavigationClick:e.onNavigationClick,numRequestsAndSuggestions:e.numRequestsAndSuggestions,logRedBadgeRendered:e.logRedBadgeRendered}):r.default.createElement(s.ProductNav,{products:e.products,activeProduct:e.activeProduct,onNavigationClick:e.onNavigationClick,numRequestsAndSuggestions:e.numRequestsAndSuggestions,logRedBadgeRendered:e.logRedBadgeRendered})),e.renderLeftHA&&e.renderLeftHA())}})),define("modules/clean/react/maestro_nav/shared_code/product-nav",["require","exports","tslib","react","classnames","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/notification_badge","modules/clean/react/maestro_nav/shared_code/constants"],(function(e,t,a,r,n,o,s,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNav=void 0,r=a.__importDefault(r),n=a.__importDefault(n);var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){return function(a){return t.props.onNavigationClick(a,e)}},t}return a.__extends(t,e),t.prototype.renderDisplaySuperscript=function(e,t){if(e)switch(t){case l.SUPERSCIRPT_TYPE_ACCESSORY_BADGE:return r.default.createElement("span",{className:"maestro-nav__product-badge"},e);default:return r.default.createElement("sup",{className:"maestro-nav__product-superscript"},e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.activeProduct,l=t.products,c=t.numRequestsAndSuggestions,d=t.logRedBadgeRendered,u=c>0;return r.default.createElement("ul",{className:"maestro-nav__products"},l.map((function(t){var l=n.default({"maestro-nav__product":!0,"maestro-nav__active-product":t===a,"maestro-nav__blocked-feature":t.isBlocked}),c=t.openInNewPage?"_blank":"_self",m=e.renderDisplaySuperscript(t.displaySuperscript,t.displaySuperscriptStyle);return r.default.createElement("li",{key:t.url},r.default.createElement("div",{className:"maestro-nav__product-wrapper"},r.default.createElement(s.UserEducationEffect,{containerName:"ProductNav",name:t.uniqueName,useSpan:!0},r.default.createElement("a",{"aria-current":t===a&&"page",href:t.isBlocked?"#":t.url,className:l,id:t.uniqueName,onClick:e.onClick(t),target:c,rel:"noopener","data-trackingid":"prod-"+t.uniqueName},t.displayName,m,t.isBlocked&&r.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),t.redNotification&&u&&r.default.createElement(i.NotificationBadge,{logRedBadgeRendered:d})))))})))},t})(r.default.Component);t.ProductNav=c})),define("modules/clean/react/maestro_nav/shared_code/strings",["require","exports","tslib","modules/constants/maestro_nav_strings"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navToggleAriaLabel=t.homeAriaLabel=t.footerStrings=void 0,r=a.__importStar(r),t.footerStrings=function(){return r.footerStrings},t.homeAriaLabel=function(){return r.homeAriaLabel},t.navToggleAriaLabel=function(){return r.navToggleAriaLabel}})),define("modules/clean/react/maestro_nav/util/post_tti_components",["require","exports","tslib","react","modules/clean/react/maestro_nav/post_tti/api"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostTTITreeView=t.PostTTILeftHA=void 0,r=a.__importDefault(r),t.PostTTILeftHA=n.PostNavTTIComponent({getPostTTIRenderer:function(e){var t=e.MaestroHA;return function(e){return r.default.createElement(t,{haProps:e})}}}),t.PostTTITreeView=n.PostNavTTIComponent({getPostTTIRenderer:function(e){var t=e.FolderExplorer;return function(e){return r.default.createElement(t,a.__assign({},e))}},preTTIRenderer:function(e){return e.placeholder}})})),define("modules/clean/react/maestro_nav/util/split-tmf-tsd-products",["require","exports","tslib","react","dig-components/tooltips","dig-components/buttons","dig-components/typography","modules/core/uri","modules/core/i18n","modules/core/browser","modules/clean/react/css","modules/clean/growth/user_action/tracker","modules/clean/react/maestro_nav/shared_code/maestro_feature","spectrum/icon_content/index","modules/clean/growth/user_action/trackers/split_tmf_tsd_tracker","modules/clean/react/maestro_nav/shared_code/maestro_context","modules/clean/analytics"],(function(e,t,a,r,n,o,s,i,l,c,d,u,m,p,_,f,v){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.SplitFoldersSidebarItem=t.SplitFoldersSidebarItemNoCss=t.MyFilesTooltip=void 0,r=a.__importStar(r),c=a.__importStar(c),(function(e){e.myFiles="myFiles",e.teamFiles="teamFiles",e.allFiles="allFiles"})(g||(g={}));var h=function(){};t.MyFilesTooltip=function(e){var t=e.open,a=e.triggerRef,i=e.onDismiss;return r.default.createElement(n.Tooltip.Control,{auto:!0,placement:"right",open:t,triggerRef:a,variant:"rich"},r.default.createElement(s.Text,{tagName:"p",color:"standard",inverse:!0},l.intl.formatMessage({id:"y23rgT",defaultMessage:"This is where youâ€™ll keep your personal work files. All your existing files live here, too."})),r.default.createElement(o.Button,{className:"split-tmf-tooltip-cta",variant:"primary",inverse:!0,onClick:i,autoFocus:!0},l.intl.formatMessage({id:"n4fAB+",defaultMessage:"Got it"})))},t.SplitFoldersSidebarItemNoCss=function(e){var a=e.feature,n=e.user,o=r.useContext(f.MaestroContext)||{},s=o.splitTmfTsdShowTooltip,d=o.activeFeature,E=r.useState(s),N=E[0],b=E[1];r.useEffect((function(){b(s)}),[s]);var T=r.default.useRef(null),P=function(){N&&(b(!1),new u.GrowthUserActionTracker(n.id,{project:_.SplitTmfTsdProjectTag}).track(_.SplitTmfTsdActions.SEEN_TOOLTIP))},S=function(e){v.TeamsWebActionsLogger.log("navigation_split_tmf_tsd",{uniqueName:e})},y=a.url,w=r.default.useMemo((function(){return i.URI.parse(y).getPath()+n.cdm_tmf_path}),[y,n]),I=d===a,A=c.get_pathname().includes(encodeURI(w));return r.default.createElement("li",null,r.default.createElement("ul",{className:"maestro-nav__features maestro-nav__features--split-files"},r.default.createElement("span",null,r.default.createElement(m.MaestroFeature,{key:"teamFiles",feature:{uniqueName:g.teamFiles,displayName:l.intl.formatMessage({id:"TFE1fe",defaultMessage:"Team files"}),url:y},isActive:I&&!A,imageIcon:r.default.createElement(p.IconContent,{name:"folder_dropbox-small",className:"maestro-nav__product-icon"}),renderBadge:!1,logRedBadgeRendered:h,openInNewPage:!1,onNavigationClick:function(){S(g.teamFiles)}})),r.default.createElement("span",{ref:T},r.default.createElement(m.MaestroFeature,{key:"MyFiles",feature:{uniqueName:g.myFiles,displayName:n.display_name,url:w},isActive:A,imageIcon:r.default.createElement(p.IconContent,{name:"folder_team_member-small",className:"maestro-nav__product-icon"}),renderBadge:!1,logRedBadgeRendered:h,openInNewPage:!1,onNavigationClick:function(){S(g.myFiles),P()}})),r.default.createElement(t.MyFilesTooltip,{open:!!N,triggerRef:T,onDismiss:P})))},t.SplitFoldersSidebarItemNoCss.displayName="SplitFoldersSidebarItem",t.SplitFoldersSidebarItem=d.requireCssWithComponent(t.SplitFoldersSidebarItemNoCss,["/static/css/maestro-nav/split-tmf-tsd-nav-vfln-XYd8.css"])})),define("modules/clean/upsell/prompt_init",["require","exports","tslib","modules/clean/upsell/exception","modules/clean/upsell/prompt_event_emitter"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize_module=t.ResponseParser=void 0,r=a.__importStar(r);var o=(function(){function e(e){this.prompt_loaded_status=e}return e.prototype.didHeaderBubbleLoad=function(){return!!this.prompt_loaded_status.HEADER_BUBBLE},e.prototype.didHomeModalLoad=function(){return!0==!!this.prompt_loaded_status.HOME_MODAL},e.prototype.didTargetedBubbleLoad=function(){return!0==!!this.prompt_loaded_status.TARGETED_BUBBLE},e.prototype.didHeaderLinkLoad=function(){return!0==!!this.prompt_loaded_status.HEADER_LINK},e.prototype.didCampaignForUserEducationLoad=function(){return!!this.prompt_loaded_status.ONBOARDING_MODULE},e.prototype.didMainCampaignLoad=function(){return this.didHeaderBubbleLoad()||this.didTargetedBubbleLoad()||this.didHomeModalLoad()},e.prototype.didAccountHeaderCampaignLoad=function(){return this.didHeaderBubbleLoad()||this.didHeaderLinkLoad()},e.prototype.didTopNotificationLoad=function(){return!!this.prompt_loaded_status.TOP_NOTIFICATION},e.prototype.didHouseAdLoad=function(){return!!this.prompt_loaded_status.HOUSE_AD},e.prototype.didAnyContentLoad=function(){return this.didHeaderBubbleLoad()||this.didHomeModalLoad()||this.didTargetedBubbleLoad()||this.didHeaderLinkLoad()||this.didTopNotificationLoad()},e})();t.ResponseParser=o,t.initialize_module=function(e){window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1&&window.performance.mark("PromptInit start");try{var t=new o(e.prompt_loaded_status);n.promptBufferedEventEmitter.emit(n.Events.ON_PROMPT_INITIALIZED,t)}catch(t){r.reportException({err:t,tags:[r.TAGS.PROMPT_INIT],exc_extra:{param_config:e}})}}})),define("modules/clean/upsell/prompt_event_emitter",["require","exports","tslib","eventemitter3"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.eventEmitter=t.BufferedEventEmitter=t.promptBufferedEventEmitter=void 0,r=a.__importDefault(r);var n=["HOME_INLINE_CONTENT"];function o(e){return"ON_"+e+"_LOADED"}var s={ON_HA_LOADED:"ON_HA_LOADED",REACT_HA_DID_UPDATE:"REACT_HA_DID_UPDATE",ON_PROMPT_INITIALIZED:"ON_PROMPT_INITIALIZED",ON_PROMPT_SHOWN:"ON_PROMPT_SHOWN",ON_PROMPT_DISMISSED:"ON_PROMPT_DISMISSED"};t.Events=s;for(var i=0,l=n;i<l.length;i++){var c=o(l[i]);s[c]=c}var d=new r.default;t.eventEmitter=d;var u=(function(e){function t(){var t=e.call(this)||this;return t.allEventBuffers={},t.delegatedEvents={},t}return a.__extends(t,e),t.prototype.on=function(t,a){var r=this;e.prototype.on.call(this,t,a);var n=this.allEventBuffers[t.toString()];return void 0!==n&&n.forEach((function(e){r.emit(t,e)})),this},t.prototype.emit=function(t,a){return t=t.toString(),void 0===this.allEventBuffers[t]&&(this.allEventBuffers[t]=[]),this.allEventBuffers[t].push(a),e.prototype.emit.call(this,t,a)},t.prototype.maybeEmitDelegatedEvent=function(e){var t=[];for(var a in e){var r=e[a];if(r){var s=r.campaign.campaignLocationId;if(-1!==n.indexOf(s)){var i=o(s);i in this.delegatedEvents||(this.delegatedEvents[i]=!0,t.push(s),this.emit(i,r))}}}return t},t.prototype.reset=function(){this.allEventBuffers={},this.delegatedEvents={},this.removeAllListeners()},t})(r.default);t.BufferedEventEmitter=u,window.ensemble&&!window.ensemble.bufferedEventEmitter&&(window.ensemble.bufferedEventEmitter=new u);var m=window.ensemble&&window.ensemble.bufferedEventEmitter?window.ensemble.bufferedEventEmitter:new u;t.promptBufferedEventEmitter=m}));
//# sourceMappingURL=pkg-maestro-nav.min.js-vflitxOu0.map