define(["require","exports","tslib","react","dig-components/typography","modules/core/i18n","modules/clean/react/app_directory/search/container","dig-components/icons","dig-components/icons/src","dig-components/buttons","modules/clean/react/app_directory/page_template/icons","modules/clean/react/app_directory/page_template/navigation_pane","modules/clean/react/app_directory/page_template/top_menu","classnames","modules/clean/react/app_directory/page_template/context","modules/clean/react/app_directory/search/context","modules/clean/react/app_directory/page_template/viewport_coordinates"],(function(e,a,t,r,n,o,c,l,d,i,p,s,u,m,_,f,h){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Header=void 0,r=t.__importStar(r),m=t.__importDefault(m);var g=function(){return r.default.createElement("div",{className:"app-directory-header-app-center-logo"},r.default.createElement(n.Link,{className:"app-directory-header-app-center-logo__link",href:"/apps",variant:"monochromatic",hasNoUnderline:!0},r.default.createElement(p.IconDropbox,null),r.default.createElement(n.Text,{className:"app-directory-header-app-center-logo__text",size:"large",isBold:!0},o.intl.formatMessage({id:"AlSHtr",defaultMessage:"App Center"}))))},v=function(){return r.default.createElement("div",{className:"app-directory-header-app-center-logo"},r.default.createElement(n.Link,{className:"app-directory-header-dropbox-app-center__link",href:"/apps",variant:"monochromatic",hasNoUnderline:!0},r.default.createElement(p.IconDropbox,null),r.default.createElement(n.Text,{className:"app-directory-header-dropbox-app-center__text",size:"large",isBold:!0},o.intl.formatMessage({id:"oKO81V",defaultMessage:"Dropbox App Center"}))))};a.Header=function(e){var a=e.backgroundColor,t=void 0===a?"--color__standard__background":a,n=e.banner,p=e.hideSearch,y=e.searchFullWidth,b=r.useState(!1),E=b[0],N=b[1],x=r.useState(!1),C=x[0],k=x[1],w=_.usePageContext(),I=w.userId,M=w.headerInfo,S=f.useSearchContext().query,B=r.createRef(),D=r.createRef(),L=h.useViewportCoordinates().scrollY;r.default.useEffect((function(){if(null!==B.current&&null!==D.current){var e=B.current.getBoundingClientRect(),a=D.current.getBoundingClientRect();k(a.bottom>e.bottom+4)}}),[B,D,L]);var P={backgroundImage:(null==M?void 0:M.image)&&"url("+M.image.url+")",backgroundColor:"var("+((null==M?void 0:M.backgroundColor)||t)+")"};return r.default.createElement("div",{className:m.default("app-directory-header",{"app-directory-header--with-background-image":null==M?void 0:M.image,"app-directory-header--dynamic-search-bar":void 0!==p}),ref:B,style:P},r.default.createElement("div",{className:m.default("app-directory-header__top-bar",{"app-directory-header__top-bar--with-border":C}),ref:D,style:{backgroundColor:P.backgroundColor}},r.default.createElement("div",{className:"app-directory-header__nav"},r.default.createElement("div",{className:"app-directory-header__wide-view-nav"},void 0!==I?r.default.createElement(g,null):r.default.createElement(v,null)),r.default.createElement("div",{className:"app-directory-header__narrow-view-nav"},r.default.createElement(i.IconButton,{"aria-label":o.intl.formatMessage({id:"scPey9",defaultMessage:"Toggle main navigation"}),className:"app-directory-header__pane-nav-button",onClick:function(){N((function(e){return!e}))},variant:"transparent"},r.default.createElement(l.UIIcon,{src:d.ListViewLine})),r.default.createElement(s.NavigationPane,{expanded:E,onBlur:function(){N(!1)}}))),r.default.createElement("div",{className:"app-directory-header__top-menu"},r.default.createElement("div",{className:"app-directory-header__top-menu-content"},r.default.createElement(u.TopMenu,null)),r.default.createElement("div",{className:m.default("app-directory-header__search",{"app-directory-header__search--full-width":y||S,"app-directory-header__search--hide-search":p})},r.default.createElement(c.SearchContainer,{visible:!p})))),n&&r.default.createElement("div",{className:"app-directory-header__banner"},n))}}));
//# sourceMappingURL=header.min.js-vflZTBw9K.map