define(["require","exports","tslib","react","modules/core/i18n","dig-components/buttons","dig-components/modal","dig-components/tooltips","dig-components/typography","modules/clean/react/app_directory/details_page/context","modules/clean/react/app_directory/connect/flow","modules/clean/react/app_directory/page_template/logger","modules/clean/react/app_directory/page_template/logger_context"],(function(e,t,n,o,a,l,r,c,i,s,u,d,m){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectButton=void 0,o=n.__importDefault(o);var g=a.intl.formatMessage({id:"gnEPL0",defaultMessage:"Learn more"}),f=a.intl.formatMessage({id:"8hyMaE",defaultMessage:"Connect"}),M=a.intl.formatMessage({id:"M6BJCe",defaultMessage:"Sign in to connect"}),C=a.intl.formatMessage({id:"qaOkkY",defaultMessage:"Set up"}),_=a.intl.formatMessage({id:"FKs4ZT",defaultMessage:"Manage"}),v=a.intl.formatMessage({id:"ML8R06",defaultMessage:"Not allowed by your team"}),y=((p={}).learnMore=g,p.connect=f,p.signedOut=M,p.setup=C,p.manage=_,p.notAllowedByTeam=v,p),b=function(e){var t=e.cta,n=e.tooltip,a=e.subtext,r=e.onClick,s=o.default.createElement(l.Button,{variant:"primary",className:"app-directory-connect-button__button",onClick:r,disabled:void 0===r},y[t]);return o.default.createElement("div",{className:"app-directory-connect-button"},n?o.default.createElement(c.Tooltip,{title:n},o.default.createElement("span",null,s)):s,void 0!==a?o.default.createElement(i.Text,{size:"small",color:"faint",tagName:"p"},a):null)};t.ConnectButton=function(){var e=s.useUserLinkContext().setConnectedState,t=o.default.useState(null),n=t[0],a=t[1],l=o.default.useState(null),c=l[0],i=l[1],p=d.useEventLogger().logEvent,g=m.useWebLoggerContext().webLogger,f=u.useConnectButtonFlow();if(null===f)return null;var M={setButtonCta:a,setAppConnectionState:e,showModal:function(e){p("education_modal_shown"),i(e)},hideModal:function(){return i(null)}},C=void 0;if(void 0!==f.onClick){var _=f.onClick;C=function(){"learnMore"===v?p("click_learn_more"):"connect"===v&&p("click_connect");try{_(M)}catch(e){throw null==g||g.logError({name:"pages/connect_error"},e),e}}}var v=n||f.initialCta;return o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{cta:v,onClick:C,tooltip:f.tooltip,subtext:f.subtext}),c&&o.default.createElement(r.Modal,{overlayClassName:"app-directory-edu-modal-overlay",open:!0,withCloseButton:"Close",onRequestClose:function(){return i(null)},width:"standard"},c))}}));
//# sourceMappingURL=button.min.js-vflfEmvzp.map