define(["require","exports","tslib","react","modules/clean/react/app_directory/search/engine","modules/clean/react/app_directory/page_template/context","modules/core/browser","modules/clean/react/app_directory/page_template/logger_context"],(function(e,t,r,n,o,c,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSearchContext=t.SearchProvider=t.defaultSearchSettings=void 0,n=r.__importStar(n),a=r.__importStar(a);var i={search:function(){return Promise.resolve()},clearSearch:function(){},onSubmit:function(){},shouldSyncFocus:!1,setShouldSyncFocus:function(){}},s=n.default.createContext(i);t.defaultSearchSettings={limit:5,onSubmit:function(e){a.redirect("/apps/search?query="+e)}},t.SearchProvider=function(e){var t=n.useState(),a=t[0],i=t[1],l=n.useState(),d=l[0],f=l[1],h=n.useState(!1),S=h[0],_=h[1],p=u.useWebLoggerContext().webLogger,g=c.usePageContext().appInfos,m=n.useMemo((function(){if(g)return new o.PrefixSearchEngine(g)}),[g]),v=n.default.useCallback((function(e){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(t){return f(e),[2]}))}))}),[]);return n.useEffect((function(){if(m&&d){var t=void 0===e.limit?5:e.limit;m.search(d,t).then(i).catch((function(e){null==p||p.logError({name:"pages/search_error"},e)}))}}),[m,d]),n.default.createElement(s.Provider,{value:r.__assign(r.__assign({},e),{query:d,searchedItems:a,clearSearch:function(){i(void 0),f(void 0)},search:v,shouldSyncFocus:S,setShouldSyncFocus:_})},e.children)},t.useSearchContext=function(){return n.useContext(s)}}));
//# sourceMappingURL=context.min.js-vfll7CYYe.map