define(["require","exports","tslib","react","modules/clean/api_v2/user_client","modules/clean/react/app_directory/page_template/context"],(function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUserLinkContext=t.UserLinkContextProvider=t.PageContext=void 0,i=n.__importStar(i);t.PageContext=i.createContext({setConnectedState:function(){}}),t.UserLinkContextProvider=function(e){var a=e.children,s=o.usePageContext(),c=s.pageletInfo,u=s.userId,d=i.useState(),_=d[0],f=d[1];return i.useEffect((function(){(function(){n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(t){switch(t.label){case 0:return u?[4,(new r.UserApiV2Client).ns("app_directory").rpc("get_app_connection_info",{app_identifiers:c.appIdentifiers},{subjectUserId:u})]:[3,2];case 1:e=t.sent(),f({isConnected:e.is_connected,isTeamAdminDisabled:e.is_team_admin_disabled,flow:e.flow}),t.label=2;case 2:return[2]}}))}))})()}),[c.appIdentifiers,u]),i.default.createElement(t.PageContext.Provider,{value:{connectionInfo:_,setConnectedState:function(e){if(_){var t=n.__assign(n.__assign({},_),{isConnected:e});f(t)}}}},a)},t.useUserLinkContext=function(){return i.useContext(t.PageContext)}}));
//# sourceMappingURL=context.min.js-vfl5dMNcs.map