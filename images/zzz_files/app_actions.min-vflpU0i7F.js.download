define(["require","exports","tslib","react","modules/clean/api_v2/user_client","modules/clean/react/modal","modules/clean/react/extensions/auth_modal","modules/clean/react/app_directory/page_template/logger","modules/clean/react/app_directory/connect/handler_utils"],(function(e,t,n,r,i,a,o,c,u){"use strict";function l(e,t,i){var u=t.name,l=t.icon;return new Promise((function(d){(function(e,t,n,i,c,u){a.Modal.showInstance(r.default.createElement(o.AuthModal,{actionId:e,appName:t,iconUrl:n,doAuth:i,doCancel:c,onLearnMore:u,fileId:"",fileName:""}))})(i,u,l,(function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(n){switch(n.label){case 0:return[4,s(i,e)];case 1:return n.sent(),c.logTelemetryEvent("auth_allow",{app_id:c.getAppId(t.appIdentifiers)}),a.Modal.close(),d(!0),[2]}}))}))}),(function(){c.logTelemetryEvent("auth_dismiss",{app_id:c.getAppId(t.appIdentifiers)}),d(!1)}),(function(){c.logTelemetryEvent("auth_learn_more",{app_id:c.getAppId(t.appIdentifiers)})})),c.logTelemetryEvent("auth_modal_shown",{app_id:c.getAppId(t.appIdentifiers)})}))}function d(e,t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(n){switch(n.label){case 0:return[4,s(t,e)];case 1:return n.sent(),[2,!0]}}))}))}function s(e,t){return(new i.UserApiV2Client).ns("app_actions").rpc("authorize_no_redirect",{action_id:e},{subjectUserId:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.firstPartyAppActionHandler=t.sfaAppActionsHandler=void 0,r=n.__importDefault(r),t.sfaAppActionsHandler=function(e,t,r,i){return{initialCta:r?"learnMore":"connect",onClick:u.withEduModal((function(a){return n.__awaiter(void 0,void 0,void 0,(function(){var o;return n.__generator(this,(function(n){switch(n.label){case 0:return r?[2,!0]:[4,l(e,t,i.id)];case 1:return(o=n.sent())&&a.setAppConnectionState(!0),[2,o]}}))}))}),t,i.edu_modal_content)}},t.firstPartyAppActionHandler=function(e,t,r,i){return{initialCta:r?"learnMore":"connect",onClick:u.withEduModal((function(t){return n.__awaiter(void 0,void 0,void 0,(function(){var a;return n.__generator(this,(function(n){switch(n.label){case 0:return r?[2,!0]:[4,d(e,i.id)];case 1:return(a=n.sent())&&t.setAppConnectionState(!0),[2,a]}}))}))}),t,i.edu_modal_content)}}}));
//# sourceMappingURL=app_actions.min.js-vflSg0uX0.map